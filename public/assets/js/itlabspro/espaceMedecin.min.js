(function() {
  var espaceMedecinStat;

  $('.task-time').each(function() {
    var $this;
    $this = $(this);
    $this.flipcountdown({
      size: 'xs',
      showHour: true,
      showMinute: true,
      showSecond: true,
      am: false,
      tick: function() {
        var $that, datetime;
        $that = $(this);
        datetime = new Date($that.attr('datetime'));
        if ($that.attr('pause') !== 'pause') {
          datetime.setSeconds(datetime.getSeconds() + 1);
        }
        $that.attr('datetime', datetime);
        return new Date(datetime);
      }
    });
    return $this.css({
      'height': '33px',
      'margin': '4px'
    });
  });

  $('.social a.pause').each(function() {
    var $this;
    $this = $(this);
    return $this.on('click', function(event) {
      var $that;
      event.preventDefault();
      event.stopPropagation();
      $that = $(this).find('.fa.fa-control');
      if ($that.hasClass('fa-pause-circle-o')) {
        $that.removeClass('fa-pause-circle-o');
        $that.addClass('fa-play-circle-o');
        return $that.parent().parent().parent().parent().parent().find('.current .task-time').attr('pause', 'pause');
      } else {
        $that.removeClass('fa-play-circle-o');
        $that.addClass('fa-pause-circle-o');
        return $that.parent().parent().parent().parent().parent().find('.current .task-time').removeAttr('pause');
      }
    });
  });

  espaceMedecinStat = function() {
    return $.ajax({
      url: '/api/espaceMedecinStat',
      type: 'get',
      dataType: 'json',
      data: {},
      success: function(json) {
        if (json && json.result === 'success') {
          return $.each(json.stats, function(index, value) {
            $("." + index).find('.counter').text(value);
            return $("." + index).find('.progress-bar').attr('aria-valuenow', (value / json.stats.rdv_rendezvous) * 100).css('width', ((value / json.stats.rdv_rendezvous) * 100) + "%");
          });
        }
      }
    });
  };

  espaceMedecinStat();

  setInterval(function() {
    return espaceMedecinStat();
  }, 10000);

  $('.bgcolor').ace_colorpicker();

}).call(this);

//# sourceMappingURL=espaceMedecin.min.js.map
