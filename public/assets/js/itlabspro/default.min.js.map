{"version":3,"sources":["ace.js","ace.sidebar.js","ace.submenu-hover.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACthBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"default.min.js","sourcesContent":["/**\r\n Required. Ace's Basic File to Initiliaze Different Parts and Some Variables.\r\n*/\r\n\r\n\r\n//some basic variables\r\n(function(undefined) {\r\n\tif( !('ace' in window) ) window['ace'] = {}\r\n\tif( !('helper' in window['ace']) ) window['ace'].helper = {}\r\n\tif( !('vars' in window['ace']) ) window['ace'].vars = {}\r\n\twindow['ace'].vars['icon'] = ' ace-icon ';\r\n\twindow['ace'].vars['.icon'] = '.ace-icon';\r\n\r\n\tace.vars['touch']\t= ('ontouchstart' in window);//(('ontouchstart' in document.documentElement) || (window.DocumentTouch && document instanceof DocumentTouch));\r\n\t\r\n\t//sometimes the only good way to work around browser's pecularities is to detect them using user-agents\r\n\t//though it's not accurate\r\n\tvar agent = navigator.userAgent\r\n\tace.vars['webkit'] = !!agent.match(/AppleWebKit/i)\r\n\tace.vars['safari'] = !!agent.match(/Safari/i) && !agent.match(/Chrome/i);\r\n\tace.vars['android'] = ace.vars['safari'] && !!agent.match(/Android/i)\r\n\tace.vars['ios_safari'] = !!agent.match(/OS ([4-9])(_\\d)+ like Mac OS X/i) && !agent.match(/CriOS/i)\r\n\t\r\n\tace.vars['ie'] = window.navigator.msPointerEnabled || (document.all && document.querySelector);//8-11\r\n\tace.vars['old_ie'] = document.all && !document.addEventListener;//8 and below\r\n\tace.vars['very_old_ie']\t= document.all && !document.querySelector;//7 and below\r\n\tace.vars['firefox'] = 'MozAppearance' in document.documentElement.style;\r\n\t\r\n\tace.vars['non_auto_fixed'] = ace.vars['android'] || ace.vars['ios_safari'];\r\n})();\r\n\r\n\r\n\r\n(function($ , undefined) {\r\n\t//sometimes we try to use 'tap' event instead of 'click' if jquery mobile plugin is available\r\n\tace['click_event'] = ace.vars['touch'] && $.fn.tap ? 'tap' : 'click';\r\n})(jQuery);\r\n\r\n\r\n\r\n\r\n//document ready function\r\njQuery(function($) {\r\n\tbasics();\r\n\tenableSidebar();\r\n\t\r\n\tenableDemoAjax();\r\n\thandleScrollbars();\r\n\t\r\n\tdropdownAutoPos();\r\n\t\r\n\tnavbarHelpers();\r\n\tsidebarTooltips();\r\n\t\r\n\tscrollTopBtn();\r\n\t\r\n\tsomeBrowserFix();\r\n\t\r\n\tbsCollapseToggle();\r\n\tsmallDeviceDropdowns();\r\n\t\r\n\t////////////////////////////\r\n\r\n\tfunction basics() {\r\n\t\t// for android and ios we don't use \"top:auto\" when breadcrumbs is fixed\r\n\t\tif(ace.vars['non_auto_fixed']) {\r\n\t\t\t$('body').addClass('mob-safari');\r\n\t\t}\r\n\r\n\t\tace.vars['transition'] = !!$.support.transition.end\r\n\t}\r\n\t\r\n\tfunction enableSidebar() {\r\n\t\t//initiate sidebar function\r\n\t\tvar $sidebar = $('.sidebar');\r\n\t\tif($.fn.ace_sidebar) $sidebar.ace_sidebar();\r\n\t\tif($.fn.ace_sidebar_scroll) $sidebar.ace_sidebar_scroll({\r\n\t\t\t//for other options please see documentation\r\n\t\t\t'include_toggle': false || ace.vars['safari'] || ace.vars['ios_safari'] //true = include toggle button in the scrollbars\r\n\t\t});\r\n\t\tif($.fn.ace_sidebar_hover)\t$sidebar.ace_sidebar_hover({\r\n\t\t\t'sub_hover_delay': 750,\r\n\t\t\t'sub_scroll_style': 'no-track scroll-thin scroll-margin scroll-visible'\r\n\t\t});\r\n\t}\r\n\r\n\t\r\n\t//Load content via ajax\r\n\tfunction enableDemoAjax() {\t\t\r\n\t\tif(!$.fn.ace_ajax) return;\r\n \r\n\t\tif(window.Pace) {\r\n\t\t\twindow.paceOptions = {\r\n\t\t\t\tajax: true,\r\n\t\t\t\tdocument: true,\r\n\t\t\t\teventLag: false // disabled\r\n\t\t\t\t//elements: {selectors: ['.page-content-area']}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar demo_ajax_options = {\r\n\t\t\t 'close_active': true,\r\n\t\t\t \r\n\t\t\t 'default_url': 'page/index',//default hash\r\n\t\t\t 'content_url': function(hash) {\r\n\t\t\t\t//***NOTE***\r\n\t\t\t\t//this is for Ace demo only, you should change it to return a valid URL\r\n\t\t\t\t//please refer to documentation for more info\r\n\r\n\t\t\t\tif( !hash.match(/^page\\//) ) return false;\r\n\t\t\t\tvar path = document.location.pathname;\r\n\r\n\t\t\t\t//for example in Ace HTML demo version we convert /ajax/index.html#page/gallery to > /ajax/content/gallery.html and load it\r\n\t\t\t\tif(path.match(/(\\/ajax\\/)(index\\.html)?/))\r\n\t\t\t\t\treturn path.replace(/(\\/ajax\\/)(index\\.html)?/, '/ajax/content/'+hash.replace(/^page\\//, '')+'.html') ;\r\n\r\n\t\t\t\t//for example in Ace PHP demo version we convert \"ajax.php#page/dashboard\" to \"ajax.php?page=dashboard\" and load it\r\n\t\t\t\treturn path + \"?\" + hash.replace(/\\//, \"=\");\r\n\t\t\t  }\t\t\t  \r\n\t\t}\r\n\t\t   \r\n\t\t//for IE9 and below we exclude PACE loader (using conditional IE comments)\r\n\t\t//for other browsers we use the following extra ajax loader options\r\n\t\tif(window.Pace) {\r\n\t\t\tdemo_ajax_options['loading_overlay'] = 'body';//the opaque overlay is applied to 'body'\r\n\t\t}\r\n\r\n\t\t//initiate ajax loading on this element( which is .page-content-area[data-ajax-content=true] in Ace's demo)\r\n\t\t$('[data-ajax-content=true]').ace_ajax(demo_ajax_options)\r\n\r\n\t\t//if general error happens and ajax is working, let's stop loading icon & PACE\r\n\t\t$(window).on('error.ace_ajax', function() {\r\n\t\t\t$('[data-ajax-content=true]').each(function() {\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\tif( $this.ace_ajax('working') ) {\r\n\t\t\t\t\tif(window.Pace && Pace.running) Pace.stop();\r\n\t\t\t\t\t$this.ace_ajax('stopLoading', true);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\t/////////////////////////////\r\n\r\n\tfunction handleScrollbars() {\r\n\t\t//add scrollbars for navbar dropdowns\r\n\t\tvar has_scroll = !!$.fn.ace_scroll;\r\n\t\tif(has_scroll) $('.dropdown-content').ace_scroll({reset: false, mouseWheelLock: true})\r\n\r\n\t\t//reset scrolls bars on window resize\r\n\t\tif(has_scroll && !ace.vars['old_ie']) {//IE has an issue with widget fullscreen on ajax?!!!\r\n\t\t\t$(window).on('resize.reset_scroll', function() {\r\n\t\t\t\t$('.ace-scroll:not(.scroll-disabled)').not(':hidden').ace_scroll('reset');\r\n\t\t\t});\r\n\t\t\tif(has_scroll) $(document).on('settings.ace.reset_scroll', function(e, name) {\r\n\t\t\t\tif(name == 'sidebar_collapsed') $('.ace-scroll:not(.scroll-disabled)').not(':hidden').ace_scroll('reset');\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction dropdownAutoPos() {\r\n\t\t//change a dropdown to \"dropup\" depending on its position\r\n\t\t$(document).on('click.dropdown.pos', '.dropdown-toggle[data-position=\"auto\"]', function() {\r\n\t\t\tvar offset = $(this).offset();\r\n\t\t\tvar parent = $(this.parentNode);\r\n\r\n\t\t\tif ( parseInt(offset.top + $(this).height()) + 50 \r\n\t\t\t\t\t>\r\n\t\t\t\t(ace.helper.scrollTop() + ace.helper.winHeight() - parent.find('.dropdown-menu').eq(0).height()) \r\n\t\t\t\t) parent.addClass('dropup');\r\n\t\t\telse parent.removeClass('dropup');\r\n\t\t});\r\n\t}\r\n\r\n\t\r\n\tfunction navbarHelpers() {\r\n\t\t//prevent dropdowns from hiding when a from is clicked\r\n\t\t/**$(document).on('click', '.dropdown-navbar form', function(e){\r\n\t\t\te.stopPropagation();\r\n\t\t});*/\r\n\r\n\r\n\t\t//disable navbar icon animation upon click\r\n\t\t$('.ace-nav [class*=\"icon-animated-\"]').closest('a').one('click', function(){\r\n\t\t\tvar icon = $(this).find('[class*=\"icon-animated-\"]').eq(0);\r\n\t\t\tvar $match = icon.attr('class').match(/icon\\-animated\\-([\\d\\w]+)/);\r\n\t\t\ticon.removeClass($match[0]);\r\n\t\t});\r\n\r\n\r\n\t\t//prevent dropdowns from hiding when a tab is selected\r\n\t\t$(document).on('click', '.dropdown-navbar .nav-tabs', function(e){\r\n\t\t\te.stopPropagation();\r\n\t\t\tvar $this , href\r\n\t\t\tvar that = e.target\r\n\t\t\tif( ($this = $(e.target).closest('[data-toggle=tab]')) && $this.length > 0) {\r\n\t\t\t\t$this.tab('show');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t$(window).triggerHandler('resize.navbar.dropdown')\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t\r\n\tfunction sidebarTooltips() {\r\n\t\t//tooltip in sidebar items\r\n\t\t$('.sidebar .nav-list .badge[title],.sidebar .nav-list .badge[title]').each(function() {\r\n\t\t\tvar tooltip_class = $(this).attr('class').match(/tooltip\\-(?:\\w+)/);\r\n\t\t\ttooltip_class = tooltip_class ? tooltip_class[0] : 'tooltip-error';\r\n\t\t\t$(this).tooltip({\r\n\t\t\t\t'placement': function (context, source) {\r\n\t\t\t\t\tvar offset = $(source).offset();\r\n\r\n\t\t\t\t\tif( parseInt(offset.left) < parseInt(document.body.scrollWidth / 2) ) return 'right';\r\n\t\t\t\t\treturn 'left';\r\n\t\t\t\t},\r\n\t\t\t\tcontainer: 'body',\r\n\t\t\t\ttemplate: '<div class=\"tooltip '+tooltip_class+'\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>'\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\t//or something like this if items are dynamically inserted\r\n\t\t/**\r\n\t\t$('.sidebar').tooltip({\r\n\t\t\t'placement': function (context, source) {\r\n\t\t\t\tvar offset = $(source).offset();\r\n\r\n\t\t\t\tif( parseInt(offset.left) < parseInt(document.body.scrollWidth / 2) ) return 'right';\r\n\t\t\t\treturn 'left';\r\n\t\t\t},\r\n\t\t\tselector: '.nav-list .badge[title],.nav-list .label[title]',\r\n\t\t\tcontainer: 'body',\r\n\t\t\ttemplate: '<div class=\"tooltip tooltip-error\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>'\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\t\r\n\t\r\n\r\n\tfunction scrollTopBtn() {\r\n\t\t//the scroll to top button\r\n\t\tvar scroll_btn = $('.btn-scroll-up');\r\n\t\tif(scroll_btn.length > 0) {\r\n\t\t\tvar is_visible = false;\r\n\t\t\t$(window).on('scroll.scroll_btn', function() {\r\n\t\t\t\tvar scroll = ace.helper.scrollTop();\r\n\t\t\t\tvar h = ace.helper.winHeight();\r\n\t\t\t\tvar body_sH = document.body.scrollHeight;\r\n\t\t\t\tif(scroll > parseInt(h / 4) || (scroll > 0 && body_sH >= h && h + scroll >= body_sH - 1)) {//|| for smaller pages, when reached end of page\r\n\t\t\t\t\tif(!is_visible) {\r\n\t\t\t\t\t\tscroll_btn.addClass('display');\r\n\t\t\t\t\t\tis_visible = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(is_visible) {\r\n\t\t\t\t\t\tscroll_btn.removeClass('display');\r\n\t\t\t\t\t\tis_visible = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).triggerHandler('scroll.scroll_btn');\r\n\r\n\t\t\tscroll_btn.on(ace.click_event, function(){\r\n\t\t\t\tvar duration = Math.min(500, Math.max(100, parseInt(ace.helper.scrollTop() / 3)));\r\n\t\t\t\t$('html,body').animate({scrollTop: 0}, duration);\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t\r\n\tfunction someBrowserFix() {\r\n\t\t//chrome and webkit have a problem here when resizing from 479px to more\r\n\t\t//we should force them redraw the navbar!\r\n\t\tif( ace.vars['webkit'] ) {\r\n\t\t\tvar ace_nav = $('.ace-nav').get(0);\r\n\t\t\tif( ace_nav ) $(window).on('resize.webkit_fix' , function(){\r\n\t\t\t\tace.helper.redraw(ace_nav);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t//fix an issue with ios safari, when an element is fixed and an input receives focus\r\n\t\tif(ace.vars['ios_safari']) {\r\n\t\t  $(document).on('ace.settings.ios_fix', function(e, event_name, event_val) {\r\n\t\t\tif(event_name != 'navbar_fixed') return;\r\n\r\n\t\t\t$(document).off('focus.ios_fix blur.ios_fix', 'input,textarea,.wysiwyg-editor');\r\n\t\t\tif(event_val == true) {\r\n\t\t\t  $(document).on('focus.ios_fix', 'input,textarea,.wysiwyg-editor', function() {\r\n\t\t\t\t$(window).on('scroll.ios_fix', function() {\r\n\t\t\t\t\tvar navbar = $('#navbar').get(0);\r\n\t\t\t\t\tif(navbar) ace.helper.redraw(navbar);\r\n\t\t\t\t});\r\n\t\t\t  }).on('blur.ios_fix', 'input,textarea,.wysiwyg-editor', function() {\r\n\t\t\t\t$(window).off('scroll.ios_fix');\r\n\t\t\t  })\r\n\t\t\t}\r\n\t\t  }).triggerHandler('ace.settings.ios_fix', ['navbar_fixed', $('#navbar').css('position') == 'fixed']);\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\t\r\n\tfunction bsCollapseToggle() {\r\n\t\t//bootstrap collapse component icon toggle\r\n\t\t$(document).on('hide.bs.collapse show.bs.collapse', function (ev) {\r\n\t\t\tvar panel_id = ev.target.getAttribute('id')\r\n\t\t\tvar panel = $('a[href*=\"#'+ panel_id+'\"]');\r\n\t\t\tif(panel.length == 0) panel = $('a[data-target*=\"#'+ panel_id+'\"]');\r\n\t\t\tif(panel.length == 0) return;\r\n\r\n\t\t\tpanel.find(ace.vars['.icon']).each(function(){\r\n\t\t\t\tvar $icon = $(this)\r\n\r\n\t\t\t\tvar $match\r\n\t\t\t\tvar $icon_down = null\r\n\t\t\t\tvar $icon_up = null\r\n\t\t\t\tif( ($icon_down = $icon.attr('data-icon-show')) ) {\r\n\t\t\t\t\t$icon_up = $icon.attr('data-icon-hide')\r\n\t\t\t\t}\r\n\t\t\t\telse if( $match = $icon.attr('class').match(/fa\\-(.*)\\-(up|down)/) ) {\r\n\t\t\t\t\t$icon_down = 'fa-'+$match[1]+'-down'\r\n\t\t\t\t\t$icon_up = 'fa-'+$match[1]+'-up'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif($icon_down) {\r\n\t\t\t\t\tif(ev.type == 'show') $icon.removeClass($icon_down).addClass($icon_up)\r\n\t\t\t\t\t\telse $icon.removeClass($icon_up).addClass($icon_down)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\treturn false;//ignore other icons that match, one is enough\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\t\r\n\r\n\t\r\n\t//in small devices display navbar dropdowns like modal boxes\r\n\tfunction smallDeviceDropdowns() {\r\n\t  if(ace.vars['old_ie']) return;\r\n\t  \r\n\t  $('.ace-nav > li')\r\n\t  .on('shown.bs.dropdown.navbar', function(e) {\r\n\t\tadjustNavbarDropdown.call(this);\r\n\t  })\r\n\t  .on('hidden.bs.dropdown.navbar', function(e) {\r\n\t\t$(window).off('resize.navbar.dropdown');\r\n\t\tresetNavbarDropdown.call(this);\r\n\t  })\r\n\t \r\n\t  function adjustNavbarDropdown() {\r\n\t\tvar $sub = $(this).find('> .dropdown-menu');\r\n\r\n\t\tif( $sub.css('position') == 'fixed' ) {\r\n\t\t\tvar win_width = parseInt($(window).width());\r\n\t\t\tvar offset_w = win_width > 320 ? 60 : (win_width > 240 ? 40 : 30);\r\n\t\t\tvar avail_width = parseInt(win_width) - offset_w;\r\n\t\t\tvar avail_height = parseInt($(window).height()) - 30;\r\n\t\t\t\r\n\t\t\tvar width = parseInt(Math.min(avail_width , 320));\r\n\t\t\t//we set 'width' here for text wrappings and spacings to take effect before calculating scrollHeight\r\n\t\t\t$sub.css('width', width);\r\n\r\n\t\t\tvar tabbed = false;\r\n\t\t\tvar extra_parts = 0;\r\n\t\t\tvar dropdown_content = $sub.find('.tab-pane.active .dropdown-content.ace-scroll');\r\n\t\t\tif(dropdown_content.length == 0) dropdown_content = $sub.find('.dropdown-content.ace-scroll');\r\n\t\t\telse tabbed = true;\r\n\r\n\t\t\tvar parent_menu = dropdown_content.closest('.dropdown-menu');\r\n\t\t\tvar scrollHeight = $sub[0].scrollHeight;\r\n\t\t\tif(dropdown_content.length == 1) {\r\n\t\t\t\t//sometimes there's no scroll-content, for example in detached scrollbars\r\n\t\t\t\tvar content =  dropdown_content.find('.scroll-content')[0];\r\n\t\t\t\tif(content) {\r\n\t\t\t\t\tscrollHeight = content.scrollHeight;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\textra_parts += parent_menu.find('.dropdown-header').outerHeight();\r\n\t\t\t\textra_parts += parent_menu.find('.dropdown-footer').outerHeight();\r\n\t\t\t\t\r\n\t\t\t\tvar tab_content = parent_menu.closest('.tab-content');\r\n\t\t\t\tif( tab_content.length != 0 ) {\r\n\t\t\t\t\textra_parts += tab_content.siblings('.nav-tabs').eq(0).height();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t\r\n\t\t\tvar height = parseInt(Math.min(avail_height , 480, scrollHeight + extra_parts));\r\n\t\t\tvar left = parseInt(Math.abs((avail_width + offset_w - width)/2));\r\n\t\t\tvar top = parseInt(Math.abs((avail_height + 30 - height)/2));\r\n\r\n\t\t\t\r\n\t\t\tvar zindex = parseInt($sub.css('z-index')) || 0;\r\n\r\n\t\t\t$sub.css({'height': height, 'left': left, 'right': 'auto', 'top': top - (!tabbed ? 1 : 3)});\r\n\t\t\tif(dropdown_content.length == 1) {\r\n\t\t\t\tif(!ace.vars['touch']) {\r\n\t\t\t\t\tdropdown_content.ace_scroll('update', {size: height - extra_parts}).ace_scroll('enable').ace_scroll('reset');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tdropdown_content\r\n\t\t\t\t\t.ace_scroll('disable').css('max-height', height - extra_parts).addClass('overflow-scroll');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$sub.css('height', height + (!tabbed ? 2 : 7));//for bottom border adjustment and tab content paddings\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif($sub.hasClass('user-menu')) {\r\n\t\t\t\t$sub.css('height', '');//because of user-info hiding/showing at different widths, which changes above 'scrollHeight', so we remove it!\r\n\t\t\t\t\r\n\t\t\t\t//user menu is re-positioned in small widths\r\n\t\t\t\t//but we need to re-position again in small heights as well (modal mode)\r\n\t\t\t\tvar user_info = $(this).find('.user-info');\r\n\t\t\t\tif(user_info.length == 1 && user_info.css('position') == 'fixed') {\r\n\t\t\t\t\tuser_info.css({'left': left, 'right': 'auto', 'top': top, 'width': width - 2, 'max-width': width - 2, 'z-index': zindex + 1});\r\n\t\t\t\t}\r\n\t\t\t\telse user_info.css({'left': '', 'right': '', 'top': '', 'width': '', 'max-width': '', 'z-index': ''});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//dropdown's z-index is limited by parent .navbar's z-index (which doesn't make sense because dropdowns are fixed!)\r\n\t\t\t//so for example when in 'content-slider' page, fixed modal toggle buttons go above are dropdowns\r\n\t\t\t//so we increase navbar's z-index to fix this!\r\n\t\t\t$(this).closest('.navbar.navbar-fixed-top').css('z-index', zindex);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif($sub.length != 0) resetNavbarDropdown.call(this, $sub);\r\n\t\t}\r\n\t\t\r\n\t\tvar self = this;\r\n\t\t$(window)\r\n\t\t.off('resize.navbar.dropdown')\r\n\t\t.one('resize.navbar.dropdown', function() {\r\n\t\t\t$(self).triggerHandler('shown.bs.dropdown.navbar');\r\n\t\t})\r\n\t  }\r\n\r\n\t  //reset scrollbars and user menu\r\n\t  function resetNavbarDropdown($sub) {\r\n\t\t$sub = $sub || $(this).find('> .dropdown-menu');\r\n\t  \r\n\t    if($sub.length > 0) {\r\n\t\t\t$sub\r\n\t\t\t.css({'width': '', 'height': '', 'left': '', 'right': '', 'top': ''})\r\n\t\t\t.find('.dropdown-content').each(function() {\r\n\t\t\t\tif(ace.vars['touch']) {\r\n\t\t\t\t\t$(this).css('max-height', '').removeClass('overflow-scroll');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar size = parseInt($(this).attr('data-size') || 0) || $.fn.ace_scroll.defaults.size;\r\n\t\t\t\t$(this).ace_scroll('update', {size: size}).ace_scroll('enable').ace_scroll('reset');\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tif( $sub.hasClass('user-menu') ) {\r\n\t\t\t\tvar user_info = \r\n\t\t\t\t$(this).find('.user-info')\r\n\t\t\t\t.css({'left': '', 'right': '', 'top': '', 'width': '', 'max-width': '', 'z-index': ''});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t$(this).closest('.navbar').css('z-index', '');\r\n\t  }\r\n\t}\r\n\r\n});//jQuery document ready\r\n\r\n\r\n\r\n\r\n\r\n//some ace helper functions\r\n(function($$ , undefined) {//$$ is ace.helper\r\n $$.unCamelCase = function(str) {\r\n\treturn str.replace(/([a-z])([A-Z])/g, function(match, c1, c2){ return c1+'-'+c2.toLowerCase() })\r\n }\r\n $$.strToVal = function(str) {\r\n\tvar res = str.match(/^(?:(true)|(false)|(null)|(\\-?[\\d]+(?:\\.[\\d]+)?)|(\\[.*\\]|\\{.*\\}))$/i);\r\n\r\n\tvar val = str;\r\n\tif(res) {\r\n\t\tif(res[1]) val = true;\r\n\t\telse if(res[2]) val = false;\r\n\t\telse if(res[3]) val = null;\t\r\n\t\telse if(res[4]) val = parseFloat(str);\r\n\t\telse if(res[5]) {\r\n\t\t\ttry { val = JSON.parse(str) }\r\n\t\t\tcatch (err) {}\r\n\t\t}\r\n\t}\r\n\r\n\treturn val;\r\n }\r\n $$.getAttrSettings = function(el, attr_list, prefix) {\r\n\tvar list_type = attr_list instanceof Array ? 1 : 2;\r\n\t//attr_list can be Array or Object(key/value)\r\n\tvar prefix = prefix ? prefix.replace(/([^\\-])$/ , '$1-') : '';\r\n\tprefix = 'data-' + prefix;\r\n\r\n\tvar settings = {}\r\n\tfor(var li in attr_list) if(attr_list.hasOwnProperty(li)) {\r\n\t\tvar name = list_type == 1 ? attr_list[li] : li;\r\n\t\tvar attr_val, attr_name = $$.unCamelCase(name.replace(/[^A-Za-z0-9]{1,}/g , '-')).toLowerCase()\r\n\r\n\t\tif( ! ((attr_val = el.getAttribute(prefix + attr_name))  ) ) continue;\r\n\t\tsettings[name] = $$.strToVal(attr_val);\r\n\t}\r\n\r\n\treturn settings;\r\n }\r\n\r\n $$.scrollTop = function() {\r\n\treturn document.scrollTop || document.documentElement.scrollTop || document.body.scrollTop\r\n }\r\n $$.winHeight = function() {\r\n\treturn window.innerHeight || document.documentElement.clientHeight;\r\n }\r\n $$.redraw = function(elem, force) {\r\n\tvar saved_val = elem.style['display'];\r\n\telem.style.display = 'none';\r\n\telem.offsetHeight;\r\n\tif(force !== true) {\r\n\t\telem.style.display = saved_val;\r\n\t}\r\n\telse {\r\n\t\t//force redraw for example in old IE\r\n\t\tsetTimeout(function() {\r\n\t\t\telem.style.display = saved_val;\r\n\t\t}, 10);\r\n\t}\r\n }\r\n})(ace.helper);","/**\r\n <b>Sidebar functions</b>. Collapsing/expanding, toggling mobile view menu and other sidebar functions.\r\n*/\r\n\r\n(function($ , undefined) {\r\n\tvar sidebar_count = 0;\r\n\r\n\tfunction Sidebar(sidebar, settings) {\r\n\t\tvar self = this;\r\n\t\tthis.$sidebar = $(sidebar);\r\n\t\tthis.$sidebar.attr('data-sidebar', 'true');\r\n\t\tif( !this.$sidebar.attr('id') ) this.$sidebar.attr( 'id' , 'id-sidebar-'+(++sidebar_count) )\r\n\r\n\t\t\r\n\t\t//get a list of 'data-*' attributes that override 'defaults' and 'settings'\r\n\t\tvar attrib_values = ace.helper.getAttrSettings(sidebar, $.fn.ace_sidebar.defaults, 'sidebar-');\r\n\t\tthis.settings = $.extend({}, $.fn.ace_sidebar.defaults, settings, attrib_values);\r\n\r\n\r\n\t\t//some vars\r\n\t\tthis.minimized = false;//will be initiated later\r\n\t\tthis.collapsible = false;//...\r\n\t\tthis.horizontal = false;//...\r\n\t\tthis.mobile_view = false;//\r\n\r\n\r\n\t\tthis.vars = function() {\r\n\t\t\treturn {'minimized': this.minimized, 'collapsible': this.collapsible, 'horizontal': this.horizontal, 'mobile_view': this.mobile_view}\r\n\t\t}\r\n\t\tthis.get = function(name) {\r\n\t\t\tif(this.hasOwnProperty(name)) return this[name];\r\n\t\t}\r\n\t\tthis.set = function(name, value) {\r\n\t\t\tif(this.hasOwnProperty(name)) this[name] = value;\r\n\t\t}\r\n\t\t\r\n\r\n\t\tthis.ref = function() {\r\n\t\t\t//return a reference to self\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar toggleIcon = function(minimized) {\r\n\t\t\tvar icon = $(this).find(ace.vars['.icon']), icon1, icon2;\r\n\t\t\tif(icon.length > 0) {\r\n\t\t\t\ticon1 = icon.attr('data-icon1');//the icon for expanded state\r\n\t\t\t\ticon2 = icon.attr('data-icon2');//the icon for collapsed state\r\n\r\n\t\t\t\tif(minimized !== undefined) {\r\n\t\t\t\t\tif(minimized) icon.removeClass(icon1).addClass(icon2);\r\n\t\t\t\t\telse icon.removeClass(icon2).addClass(icon1);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ticon.toggleClass(icon1).toggleClass(icon2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\t\r\n\t\tvar findToggleBtn = function() {\r\n\t\t\tvar toggle_btn = self.$sidebar.find('.sidebar-collapse');\r\n\t\t\tif(toggle_btn.length == 0) toggle_btn = $('.sidebar-collapse[data-target=\"#'+(self.$sidebar.attr('id')||'')+'\"]');\r\n\t\t\tif(toggle_btn.length != 0) toggle_btn = toggle_btn[0];\r\n\t\t\telse toggle_btn = null;\r\n\t\t\t\r\n\t\t\treturn toggle_btn;\r\n\t\t}\r\n\t\t\r\n\t\t//collapse/expand button\r\n\t\tthis.toggleMenu = function(toggle_btn, save) {\r\n\t\t\tif(this.collapsible) return;\r\n\r\n\t\t\t//var minimized = this.$sidebar.hasClass('menu-min');\r\n\t\t\tthis.minimized = !this.minimized;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\t//toggle_btn can also be a param to indicate saving to cookie or not?! if toggle_btn === false, it won't be saved\r\n\t\t\t\tace.settings.sidebar_collapsed(sidebar, this.minimized, !(toggle_btn === false || save === false));//@ ace-extra.js\r\n\t\t\t} catch(e) {\r\n\t\t\t\tif(this.minimized)\r\n\t\t\t\t\tthis.$sidebar.addClass('menu-min');\r\n\t\t\t\telse this.$sidebar.removeClass('menu-min');\r\n\t\t\t}\r\n\t\r\n\t\t\tif( !toggle_btn ) {\r\n\t\t\t\ttoggle_btn = findToggleBtn();\r\n\t\t\t}\r\n\t\t\tif(toggle_btn) {\r\n\t\t\t\ttoggleIcon.call(toggle_btn, this.minimized);\r\n\t\t\t}\r\n\r\n\t\t\t//force redraw for ie8\r\n\t\t\tif(ace.vars['old_ie']) ace.helper.redraw(sidebar);\r\n\t\t}\r\n\t\tthis.collapse = function(toggle_btn, save) {\r\n\t\t\tif(this.collapsible) return;\r\n\t\t\tthis.minimized = false;\r\n\t\t\t\r\n\t\t\tthis.toggleMenu(toggle_btn, save);\r\n\t\t}\r\n\t\tthis.expand = function(toggle_btn, save) {\r\n\t\t\tif(this.collapsible) return;\r\n\t\t\tthis.minimized = true;\r\n\t\t\t\r\n\t\t\tthis.toggleMenu(toggle_btn, save);\r\n\t\t}\r\n\t\t\r\n\r\n\t\t\r\n\t\t//collapse/expand in 2nd mobile style\r\n\t\tthis.toggleResponsive = function(toggle_btn) {\r\n\t\t\tif(!this.mobile_view || this.mobile_style != 3) return;\r\n\t\t\r\n\t\t\tif( this.$sidebar.hasClass('menu-min') ) {\r\n\t\t\t\t//remove menu-min because it interferes with responsive-max\r\n\t\t\t\tthis.$sidebar.removeClass('menu-min');\r\n\t\t\t\tvar btn = findToggleBtn();\r\n\t\t\t\tif(btn) toggleIcon.call(btn);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tthis.minimized = !this.$sidebar.hasClass('responsive-min');\r\n\t\t\tthis.$sidebar.toggleClass('responsive-min responsive-max');\r\n\r\n\r\n\t\t\tif( !toggle_btn ) {\r\n\t\t\t\ttoggle_btn = this.$sidebar.find('.sidebar-expand');\r\n\t\t\t\tif(toggle_btn.length == 0) toggle_btn = $('.sidebar-expand[data-target=\"#'+(this.$sidebar.attr('id')||'')+'\"]');\r\n\t\t\t\tif(toggle_btn.length != 0) toggle_btn = toggle_btn[0];\r\n\t\t\t\telse toggle_btn = null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(toggle_btn) {\r\n\t\t\t\tvar icon = $(toggle_btn).find(ace.vars['.icon']), icon1, icon2;\r\n\t\t\t\tif(icon.length > 0) {\r\n\t\t\t\t\ticon1 = icon.attr('data-icon1');//the icon for expanded state\r\n\t\t\t\t\ticon2 = icon.attr('data-icon2');//the icon for collapsed state\r\n\r\n\t\t\t\t\ticon.toggleClass(icon1).toggleClass(icon2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$(document).triggerHandler('settings.ace', ['sidebar_collapsed' , this.minimized]);\r\n\t\t}\r\n\t\t\r\n\t\t//some helper functions\r\n\t\tthis.is_collapsible = function() {\r\n\t\t\tvar toggle\r\n\t\t\treturn (this.$sidebar.hasClass('navbar-collapse'))\r\n\t\t\t&& ((toggle = $('.navbar-toggle[data-target=\"#'+(this.$sidebar.attr('id')||'')+'\"]').get(0)) != null)\r\n\t\t\t&&  toggle.scrollHeight > 0\r\n\t\t\t//sidebar is collapsible and collapse button is visible?\r\n\t\t}\r\n\t\tthis.is_mobile_view = function() {\r\n\t\t\tvar toggle\r\n\t\t\treturn ((toggle = $('.menu-toggler[data-target=\"#'+(this.$sidebar.attr('id')||'')+'\"]').get(0)) != null)\r\n\t\t\t&&  toggle.scrollHeight > 0\r\n\t\t}\r\n\r\n\r\n\t\t//toggling submenu\r\n\t\tthis.$sidebar.on(ace.click_event+'.ace.submenu', '.nav-list', function (ev) {\r\n\t\t\tvar nav_list = this;\r\n\r\n\t\t\t//check to see if we have clicked on an element which is inside a .dropdown-toggle element?!\r\n\t\t\t//if so, it means we should toggle a submenu\r\n\t\t\tvar link_element = $(ev.target).closest('a');\r\n\t\t\tif(!link_element || link_element.length == 0) return;//return if not clicked inside a link element\r\n\r\n\t\t\tvar minimized  = self.minimized && !self.collapsible;\r\n\t\t\t//if .sidebar is .navbar-collapse and in small device mode, then let minimized be uneffective\r\n\t\r\n\t\t\tif( !link_element.hasClass('dropdown-toggle') ) {//it doesn't have a submenu return\r\n\t\t\t\t//just one thing before we return\r\n\t\t\t\t//if sidebar is collapsed(minimized) and we click on a first level menu item\r\n\t\t\t\t//and the click is on the icon, not on the menu text then let's cancel event and cancel navigation\r\n\t\t\t\t//Good for touch devices, that when the icon is tapped to see the menu text, navigation is cancelled\r\n\t\t\t\t//navigation is only done when menu text is tapped\r\n\r\n\t\t\t\tif( ace.click_event == 'tap'\r\n\t\t\t\t\t&&\r\n\t\t\t\t\tminimized\r\n\t\t\t\t\t&&\r\n\t\t\t\t\tlink_element.get(0).parentNode.parentNode == nav_list )//only level-1 links\r\n\t\t\t\t{\r\n\t\t\t\t\tvar text = link_element.find('.menu-text').get(0);\r\n\t\t\t\t\tif( text != null && ev.target != text && !$.contains(text , ev.target) ) {//not clicking on the text or its children\r\n\t\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t//ios safari only has a bit of a problem not navigating to link address when scrolling down\r\n\t\t\t\t//specify data-link attribute to ignore this\r\n\t\t\t\tif(ace.vars['ios_safari'] && link_element.attr('data-link') !== 'false') {\r\n\t\t\t\t\t//only ios safari has a bit of a problem not navigating to link address when scrolling down\r\n\t\t\t\t\t//please see issues section in documentation\r\n\t\t\t\t\tdocument.location = link_element.attr('href');\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tev.preventDefault();\r\n\t\t\t\r\n\t\t\t\r\n\r\n\r\n\t\t\tvar sub = link_element.siblings('.submenu').get(0);\r\n\t\t\tif(!sub) return false;\r\n\t\t\tvar $sub = $(sub);\r\n\r\n\t\t\tvar height_change = 0;//the amount of height change in .nav-list\r\n\r\n\t\t\tvar parent_ul = sub.parentNode.parentNode;\r\n\t\t\tif\r\n\t\t\t(\r\n\t\t\t\t( minimized && parent_ul == nav_list )\r\n\t\t\t\t || \r\n\t\t\t\t( ( $sub.parent().hasClass('hover') && $sub.css('position') == 'absolute' ) && !self.collapsible )\r\n\t\t\t)\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tvar sub_hidden = (sub.scrollHeight == 0)\r\n\r\n\t\t\t//if not open and visible, let's open it and make it visible\r\n\t\t\tif( sub_hidden ) {//being shown now\r\n\t\t\t  $(parent_ul).find('> .open > .submenu').each(function() {\r\n\t\t\t\t//close all other open submenus except for the active one\r\n\t\t\t\tif(this != sub && !$(this.parentNode).hasClass('active')) {\r\n\t\t\t\t\theight_change -= this.scrollHeight;\r\n\t\t\t\t\tself.hide(this, self.settings.duration, false);\r\n\t\t\t\t}\r\n\t\t\t  })\r\n\t\t\t}\r\n\r\n\t\t\tif( sub_hidden ) {//being shown now\r\n\t\t\t\tself.show(sub, self.settings.duration);\r\n\t\t\t\t//if a submenu is being shown and another one previously started to hide, then we may need to update/hide scrollbars\r\n\t\t\t\t//but if no previous submenu is being hidden, then no need to check if we need to hide the scrollbars in advance\r\n\t\t\t\tif(height_change != 0) height_change += sub.scrollHeight;//we need new updated 'scrollHeight' here\r\n\t\t\t} else {\r\n\t\t\t\tself.hide(sub, self.settings.duration);\r\n\t\t\t\theight_change -= sub.scrollHeight;\r\n\t\t\t\t//== -1 means submenu is being hidden\r\n\t\t\t}\r\n\r\n\t\t\t//hide scrollbars if content is going to be small enough that scrollbars is not needed anymore\r\n\t\t\t//do this almost before submenu hiding begins\r\n\t\t\t//but when minimized submenu's toggle should have no effect\r\n\t\t\tif (height_change != 0) {\r\n\t\t\t\tif(self.$sidebar.attr('data-sidebar-scroll') == 'true' && !self.minimized) \r\n\t\t\t\t\tself.$sidebar.ace_sidebar_scroll('prehide', height_change)\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t})\r\n\r\n\t\tvar submenu_working = false;\r\n\t\tthis.show = function(sub, $duration, shouldWait) {\r\n\t\t\t//'shouldWait' indicates whether to wait for previous transition (submenu toggle) to be complete or not?\r\n\t\t\tshouldWait = (shouldWait !== false);\r\n\t\t\tif(shouldWait && submenu_working) return false;\r\n\t\t\t\t\t\r\n\t\t\tvar $sub = $(sub);\r\n\t\t\tvar event;\r\n\t\t\t$sub.trigger(event = $.Event('show.ace.submenu'))\r\n\t\t\tif (event.isDefaultPrevented()) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(shouldWait) submenu_working = true;\r\n\r\n\r\n\t\t\t$duration = $duration || this.settings.duration;\r\n\t\t\t\r\n\t\t\t$sub.css({\r\n\t\t\t\theight: 0,\r\n\t\t\t\toverflow: 'hidden',\r\n\t\t\t\tdisplay: 'block'\r\n\t\t\t})\r\n\t\t\t.removeClass('nav-hide').addClass('nav-show')//only for window < @grid-float-breakpoint and .navbar-collapse.menu-min\r\n\t\t\t.parent().addClass('open');\r\n\t\t\t\r\n\t\t\tsub.scrollTop = 0;//this is for submenu_hover when sidebar is minimized and a submenu is scrollTop'ed using scrollbars ...\r\n\r\n\t\t\tif( $duration > 0 ) {\r\n\t\t\t  $sub.css({height: sub.scrollHeight,\r\n\t\t\t\t'transition-property': 'height',\r\n\t\t\t\t'transition-duration': ($duration/1000)+'s'})\r\n\t\t\t}\r\n\r\n\t\t\tvar complete = function(ev, trigger) {\r\n\t\t\t\tev && ev.stopPropagation();\r\n\t\t\t\t$sub\r\n\t\t\t\t.css({'transition-property': '', 'transition-duration': '', overflow:'', height: ''})\r\n\t\t\t\t//if(ace.vars['webkit']) ace.helper.redraw(sub);//little Chrome issue, force redraw ;)\r\n\r\n\t\t\t\tif(trigger !== false) $sub.trigger($.Event('shown.ace.submenu'))\r\n\t\t\t\t\r\n\t\t\t\tif(shouldWait) submenu_working = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif( $duration > 0 && !!$.support.transition.end ) {\r\n\t\t\t  $sub.one($.support.transition.end, complete);\r\n\t\t\t}\r\n\t\t\telse complete();\r\n\t\t\t\r\n\t\t\t//there is sometimes a glitch, so maybe retry\r\n\t\t\tif(ace.vars['android']) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tcomplete(null, false);\r\n\t\t\t\t\tace.helper.redraw(sub);\r\n\t\t\t\t}, $duration + 20);\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t }\r\n\t\t \r\n\t\t \r\n\t\t this.hide = function(sub, $duration, shouldWait) {\r\n\t\t\t//'shouldWait' indicates whether to wait for previous transition (submenu toggle) to be complete or not?\r\n\t\t\tshouldWait = (shouldWait !== false);\r\n\t\t\tif(shouldWait && submenu_working) return false;\r\n\t\t \r\n\t\t\t\r\n\t\t\tvar $sub = $(sub);\r\n\t\t\tvar event;\r\n\t\t\t$sub.trigger(event = $.Event('hide.ace.submenu'))\r\n\t\t\tif (event.isDefaultPrevented()) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(shouldWait) submenu_working = true;\r\n\t\t\t\r\n\r\n\t\t\t$duration = $duration || this.settings.duration;\r\n\t\t\t\r\n\t\t\t$sub.css({\r\n\t\t\t\theight: sub.scrollHeight,\r\n\t\t\t\toverflow: 'hidden',\r\n\t\t\t\tdisplay: 'block'\r\n\t\t\t})\r\n\t\t\t.parent().removeClass('open');\r\n\r\n\t\t\tsub.offsetHeight;\r\n\t\t\t//forces the \"sub\" to re-consider the new 'height' before transition\r\n\r\n\t\t\tif( $duration > 0 ) {\r\n\t\t\t  $sub.css({'height': 0,\r\n\t\t\t\t'transition-property': 'height',\r\n\t\t\t\t'transition-duration': ($duration/1000)+'s'});\r\n\t\t\t}\r\n\r\n\r\n\t\t\tvar complete = function(ev, trigger) {\r\n\t\t\t\tev && ev.stopPropagation();\r\n\t\t\t\t$sub\r\n\t\t\t\t.css({display: 'none', overflow:'', height: '', 'transition-property': '', 'transition-duration': ''})\r\n\t\t\t\t.removeClass('nav-show').addClass('nav-hide')//only for window < @grid-float-breakpoint and .navbar-collapse.menu-min\r\n\r\n\t\t\t\tif(trigger !== false) $sub.trigger($.Event('hidden.ace.submenu'))\r\n\t\t\t\t\r\n\t\t\t\tif(shouldWait) submenu_working = false;\r\n\t\t\t}\r\n\r\n\t\t\tif( $duration > 0 && !!$.support.transition.end ) {\r\n\t\t\t   $sub.one($.support.transition.end, complete);\r\n\t\t\t}\r\n\t\t\telse complete();\r\n\r\n\r\n\t\t\t//there is sometimes a glitch, so maybe retry\r\n\t\t\tif(ace.vars['android']) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tcomplete(null, false);\r\n\t\t\t\t\tace.helper.redraw(sub);\r\n\t\t\t\t}, $duration + 20);\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t }\r\n\r\n\t\t this.toggle = function(sub, $duration) {\r\n\t\t\t$duration = $duration || self.settings.duration;\r\n\t\t \r\n\t\t\tif( sub.scrollHeight == 0 ) {//if an element is hidden scrollHeight becomes 0\r\n\t\t\t\tif( this.show(sub, $duration) ) return 1;\r\n\t\t\t} else {\r\n\t\t\t\tif( this.hide(sub, $duration) ) return -1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t }\r\n\r\n\r\n\t\t//sidebar vars\r\n\t\tvar minimized_menu_class  = 'menu-min';\r\n\t\tvar responsive_min_class  = 'responsive-min';\r\n\t\tvar horizontal_menu_class = 'h-sidebar';\r\n\r\n\t\tvar sidebar_mobile_style = function() {\r\n\t\t\t//differnet mobile menu styles\r\n\t\t\tthis.mobile_style = 1;//default responsive mode with toggle button inside navbar\r\n\t\t\tif(this.$sidebar.hasClass('responsive') && !$('.menu-toggler[data-target=\"#'+this.$sidebar.attr('id')+'\"]').hasClass('navbar-toggle')) this.mobile_style = 2;//toggle button behind sidebar\r\n\t\t\t else if(this.$sidebar.hasClass(responsive_min_class)) this.mobile_style = 3;//minimized menu\r\n\t\t\t  else if(this.$sidebar.hasClass('navbar-collapse')) this.mobile_style = 4;//collapsible (bootstrap style)\r\n\t\t}\r\n\t\tsidebar_mobile_style.call(self);\r\n\t\t  \r\n\t\tfunction update_vars() {\r\n\t\t\tthis.mobile_view = this.mobile_style < 4 && this.is_mobile_view();\r\n\t\t\tthis.collapsible = !this.mobile_view && this.is_collapsible();\r\n\r\n\t\t\tthis.minimized = \r\n\t\t\t(!this.collapsible && this.$sidebar.hasClass(minimized_menu_class))\r\n\t\t\t ||\r\n\t\t\t(this.mobile_style == 3 && this.mobile_view && this.$sidebar.hasClass(responsive_min_class))\r\n\r\n\t\t\tthis.horizontal = !(this.mobile_view || this.collapsible) && this.$sidebar.hasClass(horizontal_menu_class)\r\n\t\t}\r\n\r\n\t\t//update some basic variables\r\n\t\t$(window).on('resize.sidebar.vars' , function(){\r\n\t\t\tupdate_vars.call(self);\r\n\t\t}).triggerHandler('resize.sidebar.vars')\r\n\r\n\t}//end of Sidebar\r\n\t\r\n\r\n\t//sidebar events\r\n\t\r\n\t//menu-toggler\r\n\t$(document)\r\n\t.on(ace.click_event+'.ace.menu', '.menu-toggler', function(e){\r\n\t\tvar btn = $(this);\r\n\t\tvar sidebar = $(btn.attr('data-target'));\r\n\t\tif(sidebar.length == 0) return;\r\n\t\t\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tsidebar.toggleClass('display');\r\n\t\tbtn.toggleClass('display');\r\n\t\t\r\n\t\tvar click_event = ace.click_event+'.ace.autohide';\r\n\t\tvar auto_hide = sidebar.attr('data-auto-hide') === 'true';\r\n\r\n\t\tif( btn.hasClass('display') ) {\r\n\t\t\t//hide menu if clicked outside of it!\r\n\t\t\tif(auto_hide) {\r\n\t\t\t\t$(document).on(click_event, function(ev) {\r\n\t\t\t\t\tif( sidebar.get(0) == ev.target || $.contains(sidebar.get(0), ev.target) ) {\r\n\t\t\t\t\t\tev.stopPropagation();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsidebar.removeClass('display');\r\n\t\t\t\t\tbtn.removeClass('display');\r\n\t\t\t\t\t$(document).off(click_event);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif(sidebar.attr('data-sidebar-scroll') == 'true') sidebar.ace_sidebar_scroll('reset');\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(auto_hide) $(document).off(click_event);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t})\r\n\t//sidebar collapse/expand button\r\n\t.on(ace.click_event+'.ace.menu', '.sidebar-collapse', function(e){\r\n\t\t\r\n\t\tvar target = $(this).attr('data-target'), $sidebar = null;\r\n\t\tif(target) $sidebar = $(target);\r\n\t\tif($sidebar == null || $sidebar.length == 0) $sidebar = $(this).closest('.sidebar');\r\n\t\tif($sidebar.length == 0) return;\r\n\r\n\t\te.preventDefault();\r\n\t\t$sidebar.ace_sidebar('toggleMenu', this);\r\n\t})\r\n\t//this button is used in `mobile_style = 3` responsive menu style to expand minimized sidebar\r\n\t.on(ace.click_event+'.ace.menu', '.sidebar-expand', function(e){\r\n\t\tvar target = $(this).attr('data-target'), $sidebar = null;\r\n\t\tif(target) $sidebar = $(target);\r\n\t\tif($sidebar == null || $sidebar.length == 0) $sidebar = $(this).closest('.sidebar');\r\n\t\tif($sidebar.length == 0) return;\t\r\n\t\r\n\t\tvar btn = this;\r\n\t\te.preventDefault();\r\n\t\t$sidebar.ace_sidebar('toggleResponsive', this);\r\n\t\t\r\n\t\tvar click_event = ace.click_event+'.ace.autohide';\r\n\t\tif($sidebar.attr('data-auto-hide') === 'true') {\r\n\t\t\tif( $sidebar.hasClass('responsive-max') ) {\r\n\t\t\t\t$(document).on(click_event, function(ev) {\r\n\t\t\t\t\tif( $sidebar.get(0) == ev.target || $.contains($sidebar.get(0), ev.target) ) {\r\n\t\t\t\t\t\tev.stopPropagation();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$sidebar.ace_sidebar('toggleResponsive', btn);\r\n\t\t\t\t\t$(document).off(click_event);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$(document).off(click_event);\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t\r\n\t$.fn.ace_sidebar = function (option, value) {\r\n\t\tvar method_call;\r\n\r\n\t\tvar $set = this.each(function () {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar data = $this.data('ace_sidebar');\r\n\t\t\tvar options = typeof option === 'object' && option;\r\n\r\n\t\t\tif (!data) $this.data('ace_sidebar', (data = new Sidebar(this, options)));\r\n\t\t\tif (typeof option === 'string' && typeof data[option] === 'function') {\r\n\t\t\t\tif(value instanceof Array) method_call = data[option].apply(data, value);\r\n\t\t\t\telse method_call = data[option](value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn (method_call === undefined) ? $set : method_call;\r\n\t};\r\n\t\r\n\t\r\n\t$.fn.ace_sidebar.defaults = {\r\n\t\t'duration': 300\r\n    }\r\n\r\n\r\n})(window.jQuery);\r\n","/**\r\n <b>Submenu hover adjustment</b>. Automatically move up a submenu to fit into screen when some part of it goes beneath window.\r\n Pass a \"true\" value as an argument and submenu will have native browser scrollbars when necessary.\r\n*/\r\n\r\n(function($ , undefined) {\r\n\r\n if( ace.vars['very_old_ie'] ) return;\r\n //ignore IE7 & below\r\n \r\n var hasTouch = ace.vars['touch'];\r\n var nativeScroll = ace.vars['old_ie'] || hasTouch;\r\n \r\n\r\n var is_element_pos =\r\n\t'getComputedStyle' in window ?\r\n\t//el.offsetHeight is used to force redraw and recalculate 'el.style.position' esp. for webkit!\r\n\tfunction(el, pos) { el.offsetHeight; return window.getComputedStyle(el).position == pos }\r\n\t:\r\n\tfunction(el, pos) { el.offsetHeight; return $(el).css('position') == pos }\r\n\r\n\r\n\r\n $(window).on('resize.sidebar.ace_hover', function() {\r\n\t$('.sidebar[data-sidebar-hover=true]').ace_sidebar_hover('update_vars').ace_sidebar_hover('reset');\r\n })\r\n\r\n $(document).on('settings.ace.ace_hover', function(e, event_name, event_val) {\r\n\tif(event_name == 'sidebar_collapsed') $('.sidebar[data-sidebar-hover=true]').ace_sidebar_hover('reset');\r\n\telse if(event_name == 'navbar_fixed') $('.sidebar[data-sidebar-hover=true]').ace_sidebar_hover('update_vars');\r\n })\r\n \r\n var sidebars = [];\r\n\r\n function Sidebar_Hover(sidebar , settings) {\r\n\tvar self = this, that = this;\r\n\t\r\n\tvar attrib_values = ace.helper.getAttrSettings(sidebar, $.fn.ace_sidebar_hover.defaults);\r\n\tthis.settings = $.extend({}, $.fn.ace_sidebar_hover.defaults, settings, attrib_values);\r\n\t\r\n\r\n\tvar $sidebar = $(sidebar), nav_list = $sidebar.find('.nav-list').get(0);\r\n\t$sidebar.attr('data-sidebar-hover', 'true');\r\n\t\r\n\tsidebars.push($sidebar);\r\n\r\n\tvar sidebar_vars = {};\r\n\tvar old_ie = ace.vars['old_ie'];\r\n\r\n\t\r\n\t\r\n\tvar scroll_right = false;\r\n\t//scroll style class\r\n\t\r\n\tif(hasTouch) self.settings.sub_hover_delay = parseInt(Math.max(self.settings.sub_hover_delay, 2500));//for touch device, delay is at least 2.5sec\r\n\r\n\tvar $window = $(window);\r\n\t//navbar used for adding extra offset from top when adjusting submenu\r\n\tvar $navbar = $('.navbar').eq(0);\r\n\tvar navbar_fixed = $navbar.css('position') == 'fixed';\r\n\tthis.update_vars = function() {\r\n\t\tnavbar_fixed = $navbar.css('position') == 'fixed';\r\n\t}\r\n\r\n\tself.dirty = false;\r\n\t//on window resize or sidebar expand/collapse a previously \"pulled up\" submenu should be reset back to its default position\r\n\t//for example if \"pulled up\" in \"responsive-min\" mode, in \"fullmode\" should not remain \"pulled up\"\r\n\tthis.reset = function() {\r\n\t\tif( self.dirty == false ) return;\r\n\t\tself.dirty = false;//so don't reset is not called multiple times in a row!\r\n\t\r\n\t\t$sidebar.find('.submenu').each(function() {\r\n\t\t\tvar $sub = $(this), li = $sub.parent();\r\n\t\t\t$sub.css({'top': '', 'bottom': '', 'max-height': ''});\r\n\t\t\t\r\n\t\t\tif($sub.hasClass('ace-scroll')) {\r\n\t\t\t\t$sub.ace_scroll('disable');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$sub.removeClass('sub-scroll');\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\tif( is_element_pos(this, 'absolute') ) $sub.addClass('can-scroll');\r\n\t\t\telse $sub.removeClass('can-scroll');\r\n\r\n\t\t\tli.removeClass('pull_up').find('.menu-text:first').css('margin-top', '');\r\n\t\t})\r\n\r\n\t\t$sidebar.find('.hover-show').removeClass('hover-show hover-shown hover-flip');\r\n\t}\r\n\t\r\n\tthis.updateStyle = function(newStyle) {\r\n\t\tsub_scroll_style = newStyle;\r\n\t\t$sidebar.find('.submenu.ace-scroll').ace_scroll('update', {styleClass: newStyle});\r\n\t}\r\n\tthis.changeDir = function(dir) {\r\n\t\tscroll_right = (dir === 'right');\r\n\t}\r\n\t\r\n\t\r\n\t//update submenu scrollbars on submenu hide & show\r\n\r\n\tvar lastScrollHeight = -1;\r\n\t//hide scrollbars if it's going to be not needed anymore!\r\n\tif(!nativeScroll)\r\n\t$sidebar.on('hide.ace.submenu.sidebar_hover', '.submenu', function(e) {\r\n\t\tif(lastScrollHeight < 1) return;\r\n\r\n\t\te.stopPropagation();\r\n\t\tvar $sub = $(this).closest('.ace-scroll.can-scroll');\r\n\t\tif($sub.length == 0 || !is_element_pos($sub[0], 'absolute')) return;\r\n\r\n\t\tif($sub[0].scrollHeight - this.scrollHeight < lastScrollHeight) {\r\n\t\t\t$sub.ace_scroll('disable');\r\n\t\t}\r\n\t});\r\n\r\n\t\r\n\t\r\n\t\r\n\t//reset scrollbars \r\n\tif(!nativeScroll)\r\n\t$sidebar.on('shown.ace.submenu.sidebar_hover hidden.ace.submenu.sidebar_hover', '.submenu', function(e) {\r\n\t\tif(lastScrollHeight < 1) return;\r\n\t\r\n\t\tvar $sub = $(this).closest('.ace-scroll.can-scroll');\r\n\t\tif($sub.length == 0 || !is_element_pos($sub[0], 'absolute') ) return;\r\n\t\t\r\n\t\tvar sub_h = $sub[0].scrollHeight;\r\n\t\t\r\n\t\tif(lastScrollHeight > 14 && sub_h - lastScrollHeight > 4) {\r\n\t\t\t$sub.ace_scroll('enable').ace_scroll('reset');//don't update track position\r\n\t\t}\r\n\t\telse {\r\n\t\t\t$sub.ace_scroll('disable');\r\n\t\t}\r\n\t});\r\n\r\n\r\n\t///////////////////////\r\n\r\n\r\n\tvar currentScroll = -1;\r\n\r\n\t//some mobile browsers don't have mouseenter\r\n\tvar event_1 = !hasTouch ? 'mouseenter.sub_hover' : 'touchstart.sub_hover';// pointerdown.sub_hover';\r\n\tvar event_2 = !hasTouch ? 'mouseleave.sub_hover' : 'touchend.sub_hover touchcancel.sub_hover';// pointerup.sub_hover pointercancel.sub_hover';\r\n\t\r\n\t$sidebar.on(event_1, '.nav-list li, .sidebar-shortcuts', function (e) {\r\n\t\tsidebar_vars = $sidebar.ace_sidebar('vars');\r\n\t\t\r\n\t\r\n\t\t//ignore if collapsible mode (mobile view .navbar-collapse) so it doesn't trigger submenu movements\r\n\t\t//or return if horizontal but not mobile_view (style 1&3)\r\n\t\tif( sidebar_vars['collapsible'] /**|| sidebar_vars['horizontal']*/ ) return;\r\n\t\t\r\n\t\tvar $this = $(this);\r\n\r\n\t\tvar shortcuts = false;\r\n\t\tvar has_hover = $this.hasClass('hover');\r\n\t\t\r\n\t\tvar sub = $this.find('> .submenu').get(0);\r\n\t\tif( !(sub || ((this.parentNode == nav_list || has_hover || (shortcuts = $this.hasClass('sidebar-shortcuts'))) /**&& sidebar_vars['minimized']*/)) ) {\r\n\t\t\tif(sub) $(sub).removeClass('can-scroll');\r\n\t\t\treturn;//include .compact and .hover state as well?\r\n\t\t}\r\n\t\t\r\n\t\tvar target_element = sub, is_abs = false;\r\n\t\tif( !target_element && this.parentNode == nav_list ) target_element = $this.find('> a > .menu-text').get(0);\r\n\t\tif( !target_element && shortcuts ) target_element = $this.find('.sidebar-shortcuts-large').get(0);\r\n\t\tif( (!target_element || !(is_abs = is_element_pos(target_element, 'absolute'))) && !has_hover ) {\r\n\t\t\tif(sub) $(sub).removeClass('can-scroll');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tvar sub_hide = getSubHide(this);\r\n\t\t//var show_sub = false;\r\n\r\n\t\tif(sub) {\r\n\t\t if(is_abs) {\r\n\t\t\tself.dirty = true;\r\n\t\t\t\r\n\t\t\tvar newScroll = ace.helper.scrollTop();\r\n\t\t\t//if submenu is becoming visible for first time or document has been scrolled, then adjust menu\r\n\t\t\tif( !sub_hide.is_visible() || (!hasTouch && newScroll != currentScroll) || old_ie ) {\r\n\t\t\t\t//try to move/adjust submenu if the parent is a li.hover or if submenu is minimized\r\n\t\t\t\t//if( is_element_pos(sub, 'absolute') ) {//for example in small device .hover > .submenu may not be absolute anymore!\r\n\t\t\t\t\t$(sub).addClass('can-scroll');\r\n\t\t\t\t\t//show_sub = true;\r\n\t\t\t\t\tif(!old_ie && !hasTouch) adjust_submenu.call(this, sub);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t//because ie8 needs some time for submenu to be displayed and real value of sub.scrollHeight be kicked in\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tsetTimeout(function() {\tadjust_submenu.call(that, sub) }, 0)\r\n\t\t\t\t\t}\r\n\t\t\t\t//}\r\n\t\t\t\t//else $(sub).removeClass('can-scroll');\r\n\t\t\t}\r\n\t\t\tcurrentScroll = newScroll;\r\n\t\t }\r\n\t\t else {\r\n\t\t\t$(sub).removeClass('can-scroll');\r\n\t\t }\r\n\t\t}\r\n\t\t//if(show_sub) \r\n\t\tsub_hide.show();\r\n\t\t\r\n\t }).on(event_2, '.nav-list li, .sidebar-shortcuts', function (e) {\r\n\t\tsidebar_vars = $sidebar.ace_sidebar('vars');\r\n\t\t\r\n\t\tif( sidebar_vars['collapsible'] /**|| sidebar_vars['horizontal']*/ ) return;\r\n\r\n\t\tif( !$(this).hasClass('hover-show') ) return;\r\n\r\n\t\tgetSubHide(this).hideDelay();\r\n\t });\r\n\t \r\n\t\r\n\tfunction subHide(li_sub) {\r\n\t\tvar self = li_sub, $self = $(self);\r\n\t\tvar timer = null;\r\n\t\tvar visible = false;\r\n\t\t\r\n\t\tthis.show = function() {\r\n\t\t\tif(timer != null) clearTimeout(timer);\r\n\t\t\ttimer = null;\t\t\r\n\r\n\t\t\t$self.addClass('hover-show hover-shown');\r\n\t\t\tvisible = true;\r\n\r\n\t\t\t//let's hide .hover-show elements that are not .hover-shown anymore (i.e. marked for hiding in hideDelay)\r\n\t\t\tfor(var i = 0; i < sidebars.length ; i++)\r\n\t\t\t{\r\n\t\t\t  sidebars[i].find('.hover-show').not('.hover-shown').each(function() {\r\n\t\t\t\tgetSubHide(this).hide();\r\n\t\t\t  })\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.hide = function() {\r\n\t\t\tvisible = false;\r\n\t\t\t\r\n\t\t\t$self.removeClass('hover-show hover-shown hover-flip');\r\n\t\t\t\r\n\t\t\tif(timer != null) clearTimeout(timer);\r\n\t\t\ttimer = null;\r\n\t\t\t\r\n\t\t\tvar sub = $self.find('> .submenu').get(0);\r\n\t\t\tif(sub) getSubScroll(sub, 'hide');\r\n\t\t}\r\n\t\t\r\n\t\tthis.hideDelay = function(callback) {\r\n\t\t\tif(timer != null) clearTimeout(timer);\r\n\t\t\t\r\n\t\t\t$self.removeClass('hover-shown');//somehow marked for hiding\r\n\t\t\t\r\n\t\t\ttimer = setTimeout(function() {\r\n\t\t\t\tvisible = false;\r\n\t\t\t\t$self.removeClass('hover-show hover-flip');\r\n\t\t\t\ttimer = null;\r\n\t\t\t\t\r\n\t\t\t\tvar sub = $self.find('> .submenu').get(0);\r\n\t\t\t\tif(sub) getSubScroll(sub, 'hide');\r\n\t\t\t\t\r\n\t\t\t\tif(typeof callback === 'function') callback.call(this);\r\n\t\t\t}, that.settings.sub_hover_delay);\r\n\t\t}\r\n\t\t\r\n\t\tthis.is_visible = function() {\r\n\t\t\treturn visible;\r\n\t\t}\r\n\t}\r\n\tfunction getSubHide(el) {\r\n\t\tvar sub_hide = $(el).data('subHide');\r\n\t\tif(!sub_hide) $(el).data('subHide', (sub_hide = new subHide(el)));\r\n\t\treturn sub_hide;\r\n\t}\r\n\t\r\n\t\r\n\tfunction getSubScroll(el, func) {\r\n\t\tvar sub_scroll = $(el).data('ace_scroll');\r\n\t\tif(!sub_scroll) return false;\r\n\t\tif(typeof func === 'string') {\r\n\t\t\tsub_scroll[func]();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn sub_scroll;\r\n\t}\t\r\n\t\r\n\tfunction adjust_submenu(sub) {\r\n\t\tvar $li = $(this);\r\n\t\tvar $sub = $(sub);\r\n\t\tsub.style.top = '';\r\n\t\tsub.style.bottom = '';\r\n\r\n\r\n\t\tvar menu_text = null\r\n\t\tif( sidebar_vars['minimized'] && (menu_text = $li.find('.menu-text').get(0)) ) {\r\n\t\t\t//2nd level items don't have .menu-text\r\n\t\t\tmenu_text.style.marginTop = '';\r\n\t\t}\r\n\r\n\t\tvar scroll = ace.helper.scrollTop();\r\n\t\tvar navbar_height = 0;\r\n\r\n\t\tvar $scroll = scroll;\r\n\t\t\r\n\t\tif( navbar_fixed ) {\r\n\t\t\tnavbar_height = sidebar.offsetTop;//$navbar.height();\r\n\t\t\t$scroll += navbar_height + 1;\r\n\t\t\t//let's avoid our submenu from going below navbar\r\n\t\t\t//because of chrome z-index stacking issue and firefox's normal .submenu over fixed .navbar flicker issue\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t\tvar off = $li.offset();\r\n\t\toff.top = parseInt(off.top);\r\n\t\t\r\n\t\tvar extra = 0, parent_height;\r\n\t\t\r\n\t\tsub.style.maxHeight = '';//otherwise scrollHeight won't be consistent in consecutive calls!?\r\n\t\tvar sub_h = sub.scrollHeight;\r\n\t\tvar parent_height = $li.height();\r\n\t\tif(menu_text) {\r\n\t\t\textra = parent_height;\r\n\t\t\toff.top += extra;\r\n\t\t}\r\n\t\tvar sub_bottom = parseInt(off.top + sub_h)\r\n\r\n\t\tvar move_up = 0;\r\n\t\tvar winh = $window.height();\r\n\r\n\r\n\t\t//if the bottom of menu is going to go below visible window\r\n\r\n\t\tvar top_space = parseInt(off.top - $scroll - extra);//available space on top\r\n\t\tvar win_space = winh;//available window space\r\n\t\t\r\n\t\tvar horizontal = sidebar_vars['horizontal'], horizontal_sub = false;\r\n\t\tif(horizontal && this.parentNode == nav_list) {\r\n\t\t\tmove_up = 0;//don't move up first level submenu in horizontal mode\r\n\t\t\toff.top += $li.height();\r\n\t\t\thorizontal_sub = true;//first level submenu\r\n\t\t}\r\n\r\n\t\tif(!horizontal_sub && (move_up = (sub_bottom - (winh + scroll))) >= 0 ) {\r\n\t\t\t//don't move up more than available space\r\n\t\t\tmove_up = move_up < top_space ? move_up : top_space;\r\n\r\n\t\t\t//move it up a bit more if there's empty space\r\n\t\t\tif(move_up == 0) move_up = 20;\r\n\t\t\tif(top_space - move_up > 10) {\r\n\t\t\t\tmove_up += parseInt(Math.min(25, top_space - move_up));\r\n\t\t\t}\r\n\r\n\r\n\t\t\t//move it down if submenu's bottom is going above parent LI\r\n\t\t\tif(off.top + (parent_height - extra) > (sub_bottom - move_up)) {\r\n\t\t\t\tmove_up -= (off.top + (parent_height - extra) - (sub_bottom - move_up));\r\n\t\t\t}\r\n\r\n\t\t\tif(move_up > 0) {\r\n\t\t\t\tsub.style.top = -(move_up) + 'px';\r\n\t\t\t\tif( menu_text ) {\r\n\t\t\t\t\tmenu_text.style.marginTop = -(move_up) + 'px';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(move_up < 0) move_up = 0;//when it goes below\r\n\t\t\r\n\t\tvar pull_up = move_up > 0 && move_up > parent_height - 20;\r\n\t\tif(pull_up) {\r\n\t\t\t$li.addClass('pull_up');\r\n\t\t}\r\n\t\telse $li.removeClass('pull_up');\r\n\t\t\r\n\t\t\r\n\t\t//flip submenu if out of window width\r\n\t\tif(horizontal) {\r\n\t\t\tif($li.parent().parent().hasClass('hover-flip')) $li.addClass('hover-flip');//if a parent is already flipped, flip it then!\r\n\t\t\telse {\r\n\t\t\t\tvar sub_off = $sub.offset();\r\n\t\t\t\tvar sub_w = $sub.width();\r\n\t\t\t\tvar win_w = $window.width();\r\n\t\t\t\tif(sub_off.left + sub_w > win_w) {\r\n\t\t\t\t\t$li.addClass('hover-flip');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t//don't add scrollbars if it contains .hover menus\r\n\t\tvar has_hover = $li.hasClass('hover') && !sidebar_vars['mobile_view'];\r\n\t\tif(has_hover && $sub.find('> li > .submenu').length > 0) return;\r\n\r\n\t\r\n\t\t//if(  ) {\r\n\t\t\tvar scroll_height = (win_space - (off.top - scroll)) + (move_up);\r\n\t\t\t//if after scroll, the submenu is above parent LI, then move it down\r\n\t\t\tvar tmp = move_up - scroll_height;\r\n\t\t\tif(tmp > 0 && tmp < parent_height) scroll_height += parseInt(Math.max(parent_height, parent_height - tmp));\r\n\r\n\t\t\tscroll_height -= 5;\r\n\t\t\t\r\n\t\t\tif(scroll_height < 90) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar ace_scroll = false;\r\n\t\t\tif(!nativeScroll) {\r\n\t\t\t\tace_scroll = getSubScroll(sub);\r\n\t\t\t\tif(ace_scroll == false) {\r\n\t\t\t\t\t$sub.ace_scroll({\r\n\t\t\t\t\t\t//hideOnIdle: true,\r\n\t\t\t\t\t\tobserveContent: true,\r\n\t\t\t\t\t\tdetached: true,\r\n\t\t\t\t\t\tupdatePos: false,\r\n\t\t\t\t\t\treset: true,\r\n\t\t\t\t\t\tmouseWheelLock: true,\r\n\t\t\t\t\t\tstyleClass: self.settings.sub_scroll_style\r\n\t\t\t\t\t});\r\n\t\t\t\t\tace_scroll = getSubScroll(sub);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar track = ace_scroll.get_track();\r\n\t\t\t\t\tif(track) {\r\n\t\t\t\t\t\t//detach it from body and insert it after submenu for better and cosistent positioning\r\n\t\t\t\t\t\t$sub.after(track);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tace_scroll.update({size: scroll_height});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$sub\r\n\t\t\t\t.addClass('sub-scroll')\r\n\t\t\t\t.css('max-height', (scroll_height)+'px')\r\n\t\t\t}\r\n\r\n\r\n\t\t\tlastScrollHeight = scroll_height;\r\n\t\t\tif(!nativeScroll && ace_scroll) {\r\n\t\t\t\tif(scroll_height > 14 && sub_h - scroll_height > 4) {\r\n\t\t\t\t\tace_scroll.enable()\r\n\t\t\t\t\tace_scroll.reset();\r\n\t\t\t\t}\t\t\t\r\n\t\t\t\telse {\r\n\t\t\t\t\tace_scroll.disable();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//////////////////////////////////\r\n\t\t\t\tvar track = ace_scroll.get_track();\r\n\t\t\t\tif(track) {\r\n\t\t\t\t\ttrack.style.top = -(move_up - extra - 1) + 'px';\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar off = $sub.position();\r\n\t\t\t\t\tvar left = off.left \r\n\t\t\t\t\tif( !scroll_right ) {\r\n\t\t\t\t\t\tleft += ($sub.outerWidth() - ace_scroll.track_size());\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tleft += 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttrack.style.left = parseInt(left) + 'px';\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(horizontal_sub) {//first level submenu\r\n\t\t\t\t\t\ttrack.style.left = parseInt(left - 2) + 'px';\r\n\t\t\t\t\t\ttrack.style.top = parseInt(off.top) + (menu_text ? extra - 2 : 0) + 'px';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t//}\r\n\r\n\r\n\t\t//again force redraw for safari!\r\n\t\tif( ace.vars['safari'] ) {\r\n\t\t\tace.helper.redraw(sub)\r\n\t\t}\r\n   }\r\n\r\n}\r\n \r\n \r\n \r\n /////////////////////////////////////////////\r\n $.fn.ace_sidebar_hover = function (option, value) {\r\n\tvar method_call;\r\n\r\n\tvar $set = this.each(function () {\r\n\t\tvar $this = $(this);\r\n\t\tvar data = $this.data('ace_sidebar_hover');\r\n\t\tvar options = typeof option === 'object' && option;\r\n\r\n\t\tif (!data) $this.data('ace_sidebar_hover', (data = new Sidebar_Hover(this, options)));\r\n\t\tif (typeof option === 'string' && typeof data[option] === 'function') {\r\n\t\t\tmethod_call = data[option](value);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (method_call === undefined) ? $set : method_call;\r\n }\r\n \r\n  $.fn.ace_sidebar_hover.defaults = {\r\n\t'sub_sub_hover_delay': 750,\r\n\t'sub_scroll_style': 'no-track scroll-thin'\r\n }\r\n \r\n\r\n})(window.jQuery);\r\n\r\n"],"sourceRoot":"/source/"}